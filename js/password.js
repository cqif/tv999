function isPasswordProtected(){const _0x276c0e=window['__ENV__']&&window['__ENV__']['PASSWORD'];return typeof _0x276c0e==='string'&&_0x276c0e['length']===0x40&&!/^0+$/['test'](_0x276c0e);}function isPasswordVerified(){try{if(!isPasswordProtected()){return!![];}const _0x2d2341=JSON['parse'](localStorage['getItem'](PASSWORD_CONFIG['localStorageKey'])||'{}');const {verified,timestamp,passwordHash}=_0x2d2341;const _0x403be9=window['__ENV__']&&window['__ENV__']['PASSWORD'];if(verified&&timestamp&&passwordHash===_0x403be9){const _0x1385d3=Date['now']();const _0x2e5a92=timestamp+PASSWORD_CONFIG['verificationTTL'];return _0x1385d3<_0x2e5a92;}return![];}catch(_0x2889af){console['error']('验证密码状态时出错:',_0x2889af);return![];}}window['isPasswordProtected']=isPasswordProtected;window['isPasswordVerified']=isPasswordVerified;async function verifyPassword(_0x31fabf){const _0x4306c5=window['__ENV__']&&window['__ENV__']['PASSWORD'];if(!_0x4306c5)return![];const _0x40db37=await sha256(_0x31fabf);const _0x38ab69=_0x40db37===_0x4306c5;if(_0x38ab69){const _0x43f718={'verified':!![],'timestamp':Date['now'](),'passwordHash':_0x4306c5};localStorage['setItem'](PASSWORD_CONFIG['localStorageKey'],JSON['stringify'](_0x43f718));}return _0x38ab69;}async function sha256(_0x5a35bd){if(window['crypto']&&crypto['subtle']&&crypto['subtle']['digest']){const _0x22fbb1=new TextEncoder()['encode'](_0x5a35bd);const _0x545ae3=await crypto['subtle']['digest']('SHA-256',_0x22fbb1);const _0x167d17=Array['from'](new Uint8Array(_0x545ae3));return _0x167d17['map'](_0x2d0171=>_0x2d0171['toString'](0x10)['padStart'](0x2,'0'))['join']('');}if(typeof window['_jsSha256']==='function'){return window['_jsSha256'](_0x5a35bd);}throw new Error('No\x20SHA-256\x20implementation\x20available.');}function showPasswordModal(){const _0x32720d=document['getElementById']('passwordModal');if(_0x32720d){_0x32720d['style']['display']='flex';setTimeout(()=>{const _0x58172b=document['getElementById']('passwordInput');if(_0x58172b){_0x58172b['focus']();}},0x64);}}function hidePasswordModal(){const _0x3c8c51=document['getElementById']('passwordModal');if(_0x3c8c51){_0x3c8c51['style']['display']='none';}}function showPasswordError(){const _0x70468f=document['getElementById']('passwordError');if(_0x70468f){_0x70468f['classList']['remove']('hidden');}}function hidePasswordError(){const _0x16538f=document['getElementById']('passwordError');if(_0x16538f){_0x16538f['classList']['add']('hidden');}}async function handlePasswordSubmit(){const _0x4e73ca=document['getElementById']('passwordInput');const _0x4d32eb=_0x4e73ca?_0x4e73ca['value']['trim']():'';if(await verifyPassword(_0x4d32eb)){hidePasswordError();hidePasswordModal();document['dispatchEvent'](new CustomEvent('passwordVerified'));}else{showPasswordError();if(_0x4e73ca){_0x4e73ca['value']='';_0x4e73ca['focus']();}}}function initPasswordProtection(){if(!isPasswordProtected()){return;}if(!isPasswordVerified()){showPasswordModal();const _0x12a06b=document['getElementById']('passwordSubmitBtn');if(_0x12a06b){_0x12a06b['addEventListener']('click',handlePasswordSubmit);}const _0x56c375=document['getElementById']('passwordInput');if(_0x56c375){_0x56c375['addEventListener']('keypress',function(_0x764856){if(_0x764856['key']==='Enter'){handlePasswordSubmit();}});}}}document['addEventListener']('DOMContentLoaded',initPasswordProtection);